<?php

/**
 * @file
 * api_validations.module
 *
 * Provides validations for Services according to Whitehouse API Standards.
 */

/**
 * Implements hook_services_resources().
 */
function api_validations_services_resources() {
  $resources = array();

  $resources['validations'] = array(
    'operations' => array(
      'index' => array(
        'callback' => '_api_validations_resource_index',
        'args' => array(
          array(
            'name' => 'key',
            'optional' => FALSE,
            'type' => 'string',
            'description' => t('The source API key.'),
            'source' => array('param' => 'key'),
          ),
          array(
            'name' => 'petition_id',
            'optional' => TRUE,
            'type' => 'string',
            'description' => t('Optionally filter by Petition ID.'),
            'source' => array('param' => 'petition_id'),
          ),
          array(
            'name' => 'mock',
            'optional' => TRUE,
            'type' => 'int',
            'description' => 'When set to 1, this will cause the service to return a mock response.',
            'default value' => 0,
            'source' => array('param' => 'mock'),
          ),
        ),
        'access callback' => 'services_access_menu',
        'documentation callback' => '_api_validations_index_doc',
        'documentation versions' => array(1000),
        'file' => 'api_validation.inc',
      ),
    ),
  );

  return $resources;
}

